# Amazon EC2 Instance Configuration<a name="ebs-ec2-config"></a>

When you plan and configure EBS volumes for your application, it is important to consider the configuration of the instances that you will attach the volumes to\. In order to get the most performance out of your EBS volumes, you should attach them to an instance with enough bandwidth to support your volumes, such as an EBS\-optimized instance or an instance with 10 Gigabit network connectivity\. This is especially important when you stripe multiple volumes together in a RAID configuration\. 

**Use EBS\-Optimized or 10 Gigabit Network Instances**  
Any performance\-sensitive workloads that require minimal variability and dedicated Amazon EC2 to Amazon EBS traffic, such as production databases or business applications, should use volumes that are attached to an EBS\-optimized instance or an instance with 10 Gigabit network connectivity\. EC2 instances that do not meet this criteria offer no guarantee of network resources\. The only way to ensure sustained reliable network bandwidth between your EC2 instance and your EBS volumes is to launch the EC2 instance as EBS\-optimized or choose an instance type with 10 Gigabit network connectivity\. To see which instance types include 10 Gigabit network connectivity, see [Amazon EC2 Instance Types](https://aws.amazon.com/ec2/instance-types/)\. For information about configuring EBS\-optimized instances, see [Amazon EBS–Optimized Instances](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html)\.

**Choose an EC2 Instance with Enough Bandwidth**  
Launching an instance that is EBS\-optimized provides you with a dedicated connection between your EC2 instance and your EBS volume\. However, it is still possible to provision EBS volumes that exceed the available bandwidth for certain instance types, especially when multiple volumes are striped in a RAID configuration\. For information about the instance types are available to be launched as EBS\-optimized, the dedicated throughput to these instance types, the dedicated bandwidth to Amazon EBS, the maximum amount of IOPS the instance can support if you are using a 16 KB I/O size, and the approximate I/O bandwidth available on that connection, see [Instance Types that Support EBS Optimization](EBSOptimized.md#ebs-optimization-support)\.

Be sure to choose an EBS\-optimized instance that provides more dedicated EBS throughput than your application needs; otherwise, the Amazon EBS to Amazon EC2 connection becomes a performance bottleneck\.

Note that some instances with 10\-gigabit network interfaces, such as `i2.8xlarge`, `c3.8xlarge`, and `r3.8xlarge`, do not offer EBS\-optimization, and therefore do not have dedicated EBS bandwidth available\. However, you can use all of that bandwidth for traffic to Amazon EBS if your application isn’t pushing other network traffic that contends with Amazon EBS\. Some other 10\-gigabit network instances, such as `c4.8xlarge` and `d2.8xlarge` offer dedicated Amazon EBS bandwidth in addition to a 10\-gigabit interface which is used exclusively for network traffic\.

The `m1.large` instance has a maximum 16 KB IOPS value of 4,000, but unless this instance type is launched as EBS\-optimized, that value is an absolute best\-case scenario and is not guaranteed; to consistently achieve 4,000 16 KB IOPS, you must launch this instance as EBS\-optimized\. However, if a 4,000 IOPS `io1` volume is attached to an EBS\-optimized `m1.large` instance, the Amazon EC2 to Amazon EBS connection bandwidth limit prevents this volume from providing the 320 MB/s maximum aggregate throughput available to it\. In this case, we must use an EBS\-optimized EC2 instance that supports at least 320 MB/s of throughput, such as the `c4.8xlarge` instance type\.

Volumes of type General Purpose SSD \(`gp2`\) have a throughput limit between 128 MB/s and 160 MB/s per volume \(depending on volume size\), which pairs well with a 1,000 Mbps EBS\-optimized connection\. Instance types that offer more than 1,000 Mbps of throughput to Amazon EBS can use more than one `gp2` volume to take advantage of the available throughput\. Volumes of type Provisioned IOPS SSD \(`io1`\) have a throughput limit range of 256 KiB for each IOPS provisioned, up to a maximum of 500 MiB/s \(at 2,000 IOPS\)\. For more information, see [Amazon EBS Volume Types](EBSVolumeTypes.md)\.

Instance types with 10 Gigabit network connectivity support up to 800 MB/s of throughput and 48,000 16K IOPS for unencrypted Amazon EBS volumes and up to 25,000 16K IOPS for encrypted Amazon EBS volumes\. Because the maximum `io1` value for EBS volumes is 32,000 for `io1` volumes and 10,000 for `gp2` volumes, you can use several EBS volumes simultaneously to reach the level of I/O performance available to these instance types\. For more information about which instance types include 10 Gigabit network connectivity, see [Amazon EC2 Instance Types](https://aws.amazon.com/ec2/instance-types/)\.

You should use EBS\-optimized instances when available to get the full performance benefits of Amazon EBS `gp2` and `io1` volumes\. For more information, see [Amazon EBS–Optimized Instances](EBSOptimized.md)\.